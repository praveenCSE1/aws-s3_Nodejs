"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getS3SignedUrlApiNames = void 0;
const getS3SignedUrlApiNames = (j, source, clientIdentifiers) => {
    const apiNames = new Set();
    for (const clientId of clientIdentifiers) {
        for (const apiName of ["getSignedUrl", "getSignedUrlPromise"]) {
            source
                .find(j.CallExpression, {
                callee: {
                    type: "MemberExpression",
                    object: clientId,
                    property: { type: "Identifier", name: apiName },
                },
            })
                .forEach((callExpression) => {
                apiNames.add(callExpression.value.arguments[0].value);
            });
        }
    }
    return [...apiNames].sort();
};
exports.getS3SignedUrlApiNames = getS3SignedUrlApiNames;
