"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.removeGlobalModule = void 0;
const config_1 = require("../config");
const removeImportDefault_1 = require("./removeImportDefault");
const removeImportEquals_1 = require("./removeImportEquals");
const removeRequireIdentifier_1 = require("./removeRequireIdentifier");
// Removes the import of "aws-sdk" if it's not used.
const removeGlobalModule = (j, source, v2GlobalName) => {
    if (!v2GlobalName)
        return;
    const identifierUsages = source.find(j.Identifier, { name: v2GlobalName });
    // Only usage is import/require.
    if (identifierUsages.size() === 1) {
        const defaultOptions = { localName: v2GlobalName, sourceValue: config_1.PACKAGE_NAME };
        (0, removeRequireIdentifier_1.removeRequireIdentifier)(j, source, defaultOptions);
        (0, removeImportEquals_1.removeImportEquals)(j, source, defaultOptions);
        (0, removeImportDefault_1.removeImportDefault)(j, source, defaultOptions);
    }
};
exports.removeGlobalModule = removeGlobalModule;
