"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getNewClientExpression = void 0;
const getObjectWithUpdatedAwsConfigKeys_1 = require("./getObjectWithUpdatedAwsConfigKeys");
const getNewClientExpression = (j, clientName, { v2ClientNewExpression, awsGlobalConfig }) => {
    const newClientArguments = [];
    const v2ClientArguments = v2ClientNewExpression.node.arguments;
    if (v2ClientArguments.length === 0 && awsGlobalConfig.properties.length > 0) {
        newClientArguments.push((0, getObjectWithUpdatedAwsConfigKeys_1.getObjectWithUpdatedAwsConfigKeys)(j, j.objectExpression([]), awsGlobalConfig));
    }
    else if (v2ClientArguments.length === 1 && v2ClientArguments[0].type === "ObjectExpression") {
        newClientArguments.push((0, getObjectWithUpdatedAwsConfigKeys_1.getObjectWithUpdatedAwsConfigKeys)(j, v2ClientArguments[0], awsGlobalConfig));
    }
    else {
        newClientArguments.push(...v2ClientArguments);
    }
    return j.newExpression(j.identifier(clientName), newClientArguments);
};
exports.getNewClientExpression = getNewClientExpression;
